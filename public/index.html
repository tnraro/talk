<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>talk</title>
  <script type="module" src="/dist/client.js"></script>
  <style>
    html {
      font-size: 3rem;
    }

    body {
      display: grid;
      font-family: Pretendard Variable, sans-serif;
      width: 1920px;
      height: 1080px;
      align-items: end;
    }

    .subtitle {
      display: flex;
      gap: 1rem;
      margin: 0.5rem 1rem;
      font-size: 3rem;
      height: 4.5rem;
      ---shadow: 0.25rem 0.5rem 0.5rem hsl(0deg 0% 0% / 0.75);
    }

    .subtitle__face {
      aspect-ratio: 1/1;
      object-fit: contain;
      height: 2em;
      margin: -0.5em 0;
      flex: 6rem 0 0;
      filter: drop-shadow(var(---shadow));
    }

    .subtitle__face.subtitle__face--closed {
      filter: grayscale(1);
    }

    .subtitle__face.subtitle__face--talking {
      animation: shake 100ms ease-in-out infinite;
    }

    .subtitle__text {
      box-sizing: border-box;
      font-weight: bold;
      color: black;
      text-align: center;
      padding: 0rem 1rem;
      border-radius: 0.5rem;
      background: white;
      display: flex;
      align-items: center;
      animation: shake-r 300ms ease forwards;
      transform-origin: bottom left;
      position: relative;
      filter: drop-shadow(var(---shadow));
    }

    .subtitle__text::before {
      position: absolute;
      content: "";
      border-right: 1.2rem solid white;
      border-top: 0.2rem solid transparent;
      border-bottom: 0.8rem solid transparent;
      top: 2.3rem;
      right: 100%;
    }

    .subtitle__text>span {
      animation: text 100ms cubic-bezier(0.4, 0, 1, 1) forwards;
      opacity: 0;
      transform: translate(0, -0.3rem);
    }

    @keyframes text {
      0% {
        transform: translate(0, -0.3rem);
      }

      50% {
        transform: translate(0, 0.2rem);
      }

      100% {
        transform: translate(0, 0);
        opacity: revert;
      }
    }

    @keyframes shake-r {
      0% {
        transform: translate(0, -2rem) rotate(-8deg);
      }

      20% {
        transform: rotate(4deg);
      }

      40% {
        transform: rotate(-2deg);
      }

      60% {
        transform: rotate(1deg);
      }

      80% {
        transform: rotate(-0.5deg);
      }

      100% {
        transform: rotate(0);
      }
    }

    @keyframes shake {
      0% {
        transform: translate(0, 0);
      }

      10% {
        transform: translate(0, 0.02rem) scale(1.02, 0.95);
      }

      50% {
        transform: translate(0, -0.15rem) scale(0.95, 1.02);
      }

      90% {
        transform: translate(0, 0.02rem) scale(1.05, 0.95);
      }

      100% {
        transform: translate(0, 0);
      }
    }
  </style>
</head>

<body>
  <div class="subtitle" id="subtitle">
    <img class="subtitle__face subtitle__face--closed" src="/assets/default.webp" alt="" />
    <div class="subtitle__text" id="text"></div>
  </div>
</body>

</html>